# pysr-workflow

This repo automates the workflow of PySR to HLS code tasks.

## Overview

### pysr_automation.py
- **Purpose**: Generates High-Level Synthesis (HLS) C code and TCL scripts from symbolic regression equations stored in a hall of fame CSV file. It also generates a graph of loss vs complexity.

### plot_automation.py
- **Purpose**: Parses and analyzes output logs from HLS synthesis generated by the tcl script, and generates a CSV file with raw synthesis results. It also provides data visualization of utilization and latency.

## Steps
1. **Prepare Hall of Fame CSV**: Ensure you have a hall of fame CSV file generated by PySR in this directory.
2. **Generate HLS code and TCL script**: Run pysr_automation.py to generate the HLS C code and TCL script. Pass in the CSV filename as a command line argument.

    `python pysr_automation.py hall_of_fame.csv`

3. **Run TCL script**: Use the generated TCL script to run each function as a top-level function on Vitis.

    `vitis-hls -f run_synthesis.tcl`

4. **Data visualization**: Run plot_automation.py to parse logs, analyze results, and generate data visualizations.

    `python plot_automation.py`
